{"ast":null,"code":"import _objectSpread from\"D:/Research_Project/Component/Sample/RPT_103/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Research_Project/Component/Sample/RPT_103/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./VideoHostory.css';// Adjust the CSS file path\nimport videoHistory from'../images/videoHistory.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function VideoHostory(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),videos=_useState2[0],setVideos=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){// Make an HTTP request to fetch video details from the API\nfetch('http://localhost:5000/get_videos')// Adjust the URL as needed\n.then(function(response){return response.json();}).then(function(data){// Format the date and time\nvar formattedVideos=data.map(function(video,index){return _objectSpread(_objectSpread({},video),{},{index:index,// Add the index property\nstart_time:formatDateTime(video.start_time),end_time:formatDateTime(video.end_time)});});setVideos(formattedVideos);setLoading(false);}).catch(function(error){console.error('Error fetching video history:',error);setLoading(false);});},[]);var formatDateTime=function formatDateTime(dateTimeString){var options={year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit'};var dateTime=new Date(dateTimeString);return dateTime.toLocaleString('en-US',options);};var handleDeleteVideo=function handleDeleteVideo(index){// Retrieve the video based on the index\nvar videoToDelete=videos[index];// Make an HTTP request to delete the video by its index\nfetch(\"http://localhost:5000/delete_video/\".concat(index),{method:'DELETE'}).then(function(response){return response.json();}).then(function(data){if(data.message===\"Video deleted successfully\"){// Update the video list by removing the deleted video\nsetVideos(function(prevVideos){return prevVideos.filter(function(video,idx){return idx!==index;});});// Reload the page\nwindow.location.reload();}else{console.error('Error deleting video:',data.message);// Reload the page\nwindow.location.reload();}}).catch(function(error){console.error('Error deleting video:',error);// Reload the page\nwindow.location.reload();});};return/*#__PURE__*/_jsxs(\"div\",{className:\"page12-background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"titlevideohis\",children:\"Video Recording History\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"circular-imagesvhistory\",children:[/*#__PURE__*/_jsx(\"img\",{src:videoHistory,alt:\"Baby Image 1\",className:\"circular-imagevhistory\"}),/*#__PURE__*/_jsx(\"p\",{className:\"historytext\",children:\"This is where you can revisit and relive those precious moments you've captured with your little one. Our video recording history feature allows you to access and manage all the videos you've recorded.\"})]}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading video history...\"}),!loading&&videos.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No videos available in history.\"}),!loading&&videos.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"video-list\",children:videos.map(function(video,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"video-entry\",children:[/*#__PURE__*/_jsx(\"video\",{controls:true,width:\"250\",src:video.video_file_path}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-details\",children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:'darkblue',fontWeight:'bold'},children:[\"Start Time: \",video.start_time]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'darkblue',fontWeight:'bold'},children:[\"End Time: \",video.end_time]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'darkblue',fontWeight:'bold'},children:[\"Duration (minutes): \",video.duration]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDeleteVideo(index);},style:{backgroundColor:'red',color:'white',width:'200px',padding:'10px 20px',border:'none',borderRadius:'5px',marginTop:'10px',cursor:'pointer'},children:\"Delete\"})]})]},index);})})]});}export default VideoHostory;","map":{"version":3,"names":["React","useState","useEffect","videoHistory","jsx","_jsx","jsxs","_jsxs","VideoHostory","_useState","_useState2","_slicedToArray","videos","setVideos","_useState3","_useState4","loading","setLoading","fetch","then","response","json","data","formattedVideos","map","video","index","_objectSpread","start_time","formatDateTime","end_time","catch","error","console","dateTimeString","options","year","month","day","hour","minute","second","dateTime","Date","toLocaleString","handleDeleteVideo","videoToDelete","concat","method","message","prevVideos","filter","idx","window","location","reload","className","children","src","alt","length","controls","width","video_file_path","style","color","fontWeight","duration","onClick","backgroundColor","padding","border","borderRadius","marginTop","cursor"],"sources":["D:/Research_Project/Component/Sample/RPT_103/src/components/Behavior_Prediction/VideoHostory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './VideoHostory.css'; // Adjust the CSS file path\r\nimport videoHistory from '../images/videoHistory.png';\r\n\r\nfunction VideoHostory() {\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Make an HTTP request to fetch video details from the API\r\n    fetch('http://localhost:5000/get_videos') // Adjust the URL as needed\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        // Format the date and time\r\n        const formattedVideos = data.map((video, index) => {\r\n          return {\r\n            ...video,\r\n            index: index, // Add the index property\r\n            start_time: formatDateTime(video.start_time),\r\n            end_time: formatDateTime(video.end_time),\r\n          };\r\n        });\r\n\r\n        setVideos(formattedVideos);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching video history:', error);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const formatDateTime = (dateTimeString) => {\r\n    const options = {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n      second: '2-digit',\r\n    };\r\n\r\n    const dateTime = new Date(dateTimeString);\r\n    return dateTime.toLocaleString('en-US', options);\r\n  };\r\n\r\n  const handleDeleteVideo = (index) => {\r\n    // Retrieve the video based on the index\r\n    const videoToDelete = videos[index];\r\n    \r\n    // Make an HTTP request to delete the video by its index\r\n    fetch(`http://localhost:5000/delete_video/${index}`, {\r\n      method: 'DELETE',\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.message === \"Video deleted successfully\") {\r\n          // Update the video list by removing the deleted video\r\n          setVideos((prevVideos) => prevVideos.filter((video, idx) => idx !== index));\r\n           // Reload the page\r\n          window.location.reload();\r\n        } else {\r\n          console.error('Error deleting video:', data.message);\r\n           // Reload the page\r\n        window.location.reload();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error deleting video:', error);\r\n         // Reload the page\r\n         window.location.reload();\r\n      });\r\n  };\r\n  \r\n  return (\r\n    <div className='page12-background'>\r\n      <div className=\"\">\r\n        <h1 className=\"titlevideohis\">Video Recording History</h1>\r\n      </div>\r\n\r\n      <div className=\"circular-imagesvhistory\">\r\n        <img src={videoHistory} alt=\"Baby Image 1\" className=\"circular-imagevhistory\" />\r\n        <p className=\"historytext\">\r\n          This is where you can revisit and relive those precious moments you've captured with your little one.\r\n          Our video recording history feature allows you to access and manage all the videos you've recorded.\r\n        </p>\r\n      </div>\r\n      {loading && <p>Loading video history...</p>}\r\n      {!loading && videos.length === 0 && <p>No videos available in history.</p>}\r\n      {!loading && videos.length > 0 && (\r\n        <div className=\"video-list\">\r\n          {videos.map((video, index) => (\r\n            <div key={index} className=\"video-entry\">\r\n              <video controls width=\"250\" src={video.video_file_path}></video>\r\n              <div className=\"video-details\">\r\n                <p style={{ color: 'darkblue', fontWeight: 'bold' }}>Start Time: {video.start_time}</p>\r\n                <p style={{ color: 'darkblue', fontWeight: 'bold' }}>End Time: {video.end_time}</p>\r\n                <p style={{ color: 'darkblue', fontWeight: 'bold' }}>Duration (minutes): {video.duration}</p>\r\n                <button\r\n                  onClick={() => handleDeleteVideo(index)}\r\n                  style={{\r\n                    backgroundColor: 'red',\r\n                    color: 'white',\r\n                    width: '200px',\r\n                    padding: '10px 20px',\r\n                    border: 'none',\r\n                    borderRadius: '5px',\r\n                    marginTop: '10px',\r\n                    cursor: 'pointer',\r\n                  }}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VideoHostory;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}