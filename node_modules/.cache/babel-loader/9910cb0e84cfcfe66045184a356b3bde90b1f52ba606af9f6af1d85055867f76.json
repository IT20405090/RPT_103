{"ast":null,"code":"import _slicedToArray from\"D:/Research_Project/Component/Sample/RPT_103/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import'./styles/UploadForm.css';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UploadedImagesViewer(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];//delete image function\nvar deleteImage=function deleteImage(filename){var isConfirmed=window.confirm('Are you sure you want to delete this image?');if(isConfirmed){fetch(\"http://localhost:5000/delete-image/\".concat(filename),{method:'DELETE'}).then(function(response){if(response.status===200){// Image deleted successfully, update the image list\nsetImages(function(prevImages){return prevImages.filter(function(image){return image!==filename;});});// Display a success toast\ntoast.success('Image deleted successfully',{position:'top-center',// Set the position to 'top-center'\nautoClose:3000,// 3 seconds\nhideProgressBar:true,// Hide the progress bar\ncloseOnClick:true,// Close the toast when clicked\npauseOnHover:true,// Pause the auto-close on hover\ndraggable:true,// Allow dragging the toast\nbodyClassName:'custom-toast-body'// Apply a custom CSS class to the toast body\n});}else{console.error('Error deleting image');toast.error('Error deleting image',{position:'bottom-right',autoClose:3000});}}).catch(function(error){console.error('Error deleting image:',error);toast.error('Error deleting image',{position:'bottom-right',autoClose:3000});});}};// Function to create a download link for an image\nvar createDownloadLink=function createDownloadLink(imageName){return\"http://localhost:5000/download-image/\".concat(imageName);};useEffect(function(){fetch('http://localhost:5000/list-images').then(function(response){return response.json();}).then(function(data){return setImages(data.images);}).catch(function(error){return console.error('Error fetching images:',error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg3\",children:[/*#__PURE__*/_jsxs(\"center\",{children:[\" \",/*#__PURE__*/_jsx(\"h1\",{className:\"Topic\",children:\"Uploaded Images\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/upload\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",class:\"btn btn-primary\",style:{marginRight:'970px',backgroundColor:'#3895d3',color:'white',border:'white',width:'100px',height:'30px',fontSize:'15px'},children:[/*#__PURE__*/_jsx(\"i\",{class:\"far fa-arrow-alt-circle-left\"}),\"\\xA0Go Back\"]})}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:images.map(function(image,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000/static/uploads/\".concat(image),alt:\"Uploaded Image\",style:{maxWidth:'400px',maxHeight:'400px'}})}),/*#__PURE__*/_jsx(\"td\",{style:{fontSize:'15px'},children:image}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",style:{fontSize:'15px'},class:\"btn btn-danger\",onClick:function onClick(){return deleteImage(image);},children:[\" \",/*#__PURE__*/_jsx(\"i\",{class:\"fa-regular fa-trash-can\"}),\" Delete\"]}),\"\\xA0 \\xA0 \\xA0\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-info\",children:/*#__PURE__*/_jsxs(\"a\",{href:createDownloadLink(image),download:image,style:{color:'white',fontSize:'15px'},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-regular fa-circle-down\"}),\"  Download\"]})})]})]},index);})})]})})]});}export default UploadedImagesViewer;","map":{"version":3,"names":["React","useEffect","useState","Link","toast","jsx","_jsx","jsxs","_jsxs","UploadedImagesViewer","_useState","_useState2","_slicedToArray","images","setImages","deleteImage","filename","isConfirmed","window","confirm","fetch","concat","method","then","response","status","prevImages","filter","image","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","bodyClassName","console","error","catch","createDownloadLink","imageName","json","data","className","children","to","type","class","style","marginRight","backgroundColor","color","border","width","height","fontSize","map","index","src","alt","maxWidth","maxHeight","onClick","href","download"],"sources":["D:/Research_Project/Component/Sample/RPT_103/src/components/Chatbot_SkinRash/UploadedImagesViewer.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './styles/UploadForm.css'\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction UploadedImagesViewer() {\r\n    const [images, setImages] = useState([]);\r\n\r\n\r\n    //delete image function\r\n    const deleteImage = (filename) => {\r\n        const isConfirmed = window.confirm('Are you sure you want to delete this image?');\r\n      \r\n        if (isConfirmed) {\r\n          fetch(`http://localhost:5000/delete-image/${filename}`, { method: 'DELETE' })\r\n            .then((response) => {\r\n              if (response.status === 200) {\r\n                // Image deleted successfully, update the image list\r\n                setImages((prevImages) => prevImages.filter((image) => image !== filename));\r\n      \r\n                // Display a success toast\r\n                toast.success('Image deleted successfully', {\r\n                    position: 'top-center', // Set the position to 'top-center'\r\n                    autoClose: 3000, // 3 seconds\r\n                    hideProgressBar: true, // Hide the progress bar\r\n                    closeOnClick: true, // Close the toast when clicked\r\n                    pauseOnHover: true, // Pause the auto-close on hover\r\n                    draggable: true, // Allow dragging the toast\r\n                    bodyClassName: 'custom-toast-body', // Apply a custom CSS class to the toast body\r\n                    \r\n                });\r\n              } else {\r\n                console.error('Error deleting image');\r\n                toast.error('Error deleting image', {\r\n                  position: 'bottom-right',\r\n                  autoClose: 3000,\r\n                });\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              console.error('Error deleting image:', error);\r\n              toast.error('Error deleting image', {\r\n                position: 'bottom-right',\r\n                autoClose: 3000,\r\n              });\r\n            });\r\n        }\r\n      };\r\n      \r\n\r\n    // Function to create a download link for an image\r\n    const createDownloadLink = (imageName) => {\r\n        return `http://localhost:5000/download-image/${imageName}`;\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetch('http://localhost:5000/list-images')\r\n            .then((response) => response.json())\r\n            .then((data) => setImages(data.images))\r\n            .catch((error) => console.error('Error fetching images:', error));\r\n    }, []);\r\n\r\n    return (\r\n        <div className='bg3'>\r\n           <center> <h1 className='Topic'>Uploaded Images</h1></center>\r\n\r\n            <Link to=\"/upload\"><button type=\"button\" class=\"btn btn-primary\" \r\n            style={{marginRight:'970px', backgroundColor:'#3895d3', color:'white', border:'white', width:'100px', height:'30px', fontSize:'15px'}} >\r\n              <i class=\"far fa-arrow-alt-circle-left\"></i>&nbsp;Go Back</button>\r\n            </Link>\r\n\r\n            <center>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Image</th>\r\n                        <th>Image Name</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {images.map((image, index) => (\r\n                        <tr key={index}>\r\n                            <td>\r\n                                <img src={`http://localhost:5000/static/uploads/${image}`} \r\n                                alt={`Uploaded Image`}\r\n                                style={{ maxWidth: '400px', maxHeight: '400px' }}\r\n                                 />\r\n                            </td>\r\n                            <td style={{fontSize:'15px'}}>{image}</td>\r\n                            <td>\r\n                                <button type=\"button\" style={{fontSize:'15px'}} class=\"btn btn-danger\" onClick={() => deleteImage(image)}> <i class=\"fa-regular fa-trash-can\"></i> Delete</button>\r\n                                &nbsp; &nbsp; &nbsp;\r\n                                <button type=\"button\" class=\"btn btn-info\" ><a href={createDownloadLink(image)} download={image} style={{color:'white',fontSize:'15px'}}>\r\n                                <i class=\"fa-regular fa-circle-down\"></i>  Download\r\n                                </a>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n            </center>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UploadedImagesViewer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}